import time
import sys
import pickle

if 'T:\\software\\lsapipeline\\install\\core\\python\\' not in sys.path:
    sys.path.append('T:\\software\\lsapipeline\\install\\core\\python\\')
import sgtk

class TaskList(object):
    def __init__(self):
        self.databaseTaskFilePath = 'T:/software/lsapipeline/install/apps/tk-custom-workfiles/python/tk_custom_workfiles/database/ShotgunTaskList.yaml'

    def getTaskList(self):
        taskFile = file(self.databaseTaskFilePath, 'r')
        newTaskList = pickle.load(taskFile)
        taskFile.close()
        return newTaskList

        # output should be :
        # {'PROP_Name01': [{'image': None, 'code': 'PROP_Name01', 'type': 'Asset', 'id': 2362, 'description': None}, [{'image': None, 'content': 'Design', 'step.Step.list_order': 2, 'task_assignees': [], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71921}, {'image': None, 'content': 'Model', 'step.Step.list_order': 3, 'task_assignees': [{'type': 'HumanUser', 'id': 165, 'name': 'BBB Modelling'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71922}, {'image': None, 'content': 'Rig', 'step.Step.list_order': 5, 'task_assignees': [{'type': 'HumanUser', 'id': 164, 'name': 'BBB Rigging'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71923}, {'image': None, 'content': 'Surface', 'step.Step.list_order': 7, 'task_assignees': [{'type': 'HumanUser', 'id': 165, 'name': 'BBB Modelling'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71924}]], 'ENV_Name01': [{'image': None, 'code': 'ENV_Name01', 'type': 'Asset', 'id': 2361, 'description': None}, [{'image': None, 'content': 'Design', 'step.Step.list_order': 2, 'task_assignees': [], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71917}, {'image': None, 'content': 'Model', 'step.Step.list_order': 3, 'task_assignees': [{'type': 'HumanUser', 'id': 165, 'name': 'BBB Modelling'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71918}, {'image': None, 'content': 'Surface', 'step.Step.list_order': 7, 'task_assignees': [{'type': 'HumanUser', 'id': 165, 'name': 'BBB Modelling'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71919}, {'image': None, 'content': 'Assembly Reference', 'step.Step.list_order': 1, 'task_assignees': [], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71920}]], 'CHAR_Name01': [{'image': None, 'code': 'CHAR_Name01', 'type': 'Asset', 'id': 2360, 'description': None}, [{'image': None, 'content': 'Design', 'step.Step.list_order': 2, 'task_assignees': [], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71913}, {'image': None, 'content': 'Model', 'step.Step.list_order': 3, 'task_assignees': [{'type': 'HumanUser', 'id': 165, 'name': 'BBB Modelling'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71914}, {'image': None, 'content': 'Rig', 'step.Step.list_order': 5, 'task_assignees': [{'type': 'HumanUser', 'id': 164, 'name': 'BBB Rigging'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71915}, {'image': None, 'content': 'Surface', 'step.Step.list_order': 7, 'task_assignees': [{'type': 'HumanUser', 'id': 165, 'name': 'BBB Modelling'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71916}]], 'epDev001_mp001': [{'image': None, 'code': 'epDev001_mp001', 'type': 'Shot', 'id': 10311, 'description': None}, [{'image': None, 'content': 'Mprep', 'step.Step.list_order': 2, 'task_assignees': [], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71925}]], 'epDev001_sh001': [{'image': None, 'code': 'epDev001_sh001', 'type': 'Shot', 'id': 10310, 'description': None}, [{'image': None, 'content': 'StoryBoard', 'step.Step.list_order': 1, 'task_assignees': [{'type': 'HumanUser', 'id': 138, 'name': 'BBB Assembly'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71926}, {'image': None, 'content': 'Comp', 'step.Step.list_order': 8, 'task_assignees': [{'type': 'HumanUser', 'id': 138, 'name': 'BBB Assembly'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71927}, {'image': None, 'content': 'Anm', 'step.Step.list_order': 3, 'task_assignees': [{'type': 'HumanUser', 'id': 152, 'name': 'BBB Animation'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71928}, {'image': None, 'content': 'Light', 'step.Step.list_order': 7, 'task_assignees': [{'type': 'HumanUser', 'id': 138, 'name': 'BBB Assembly'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71929}, {'image': None, 'content': 'FX', 'step.Step.list_order': 5, 'task_assignees': [{'type': 'HumanUser', 'id': 138, 'name': 'BBB Assembly'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71930}, {'image': None, 'content': 'Layout', 'step.Step.list_order': 2, 'task_assignees': [{'type': 'HumanUser', 'id': 152, 'name': 'BBB Animation'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71931}, {'image': None, 'content': 'Additional Fx', 'step.Step.list_order': 6, 'task_assignees': [{'type': 'HumanUser', 'id': 138, 'name': 'BBB Assembly'}], 'sg_status_list': 'wtg', 'type': 'Task', 'id': 71932}]]}

if __name__ == '__main__':
    taskList = TaskList()
    abc = taskList.getTaskList()
